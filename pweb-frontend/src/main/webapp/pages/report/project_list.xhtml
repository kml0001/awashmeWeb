<html xmlns="http://www.w3.org/1999/xhtml"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:p="http://primefaces.org/ui"
	xmlns:ui="http://java.sun.com/jsf/facelets">

<ui:composition template="/pages/template/layout.xhtml">
	<ui:define name="content">
		<h:form>
			<div class="card">
				<h5>Filters</h5>
				<div class="grid ui-fluid">
					<div class="col-12 md:col-4">
						<div class="ui-inputgroup">
							<p:outputLabel for="rangeStartDate" value="Range start date:" style="width: 150px;"/>
							<div class="ui-inputgroup-addon">
								<p:selectBooleanCheckbox value="#{projectReportBean.startDateBoolean}"/>
							</div>
							<p:datePicker id="rangeStartDate" selectionMode="range"
								placeholder="Range start date"
								value="#{projectReportBean.rangeStartDate}" readonlyInput="true" />
						</div>
					</div>
					<div class="col-12 md:col-4">
						<div class="ui-inputgroup">
							<p:outputLabel for="minParticipants" value="Min participants:" style="width: 150px;"/>
							<div class="ui-inputgroup-addon">
								<p:selectBooleanCheckbox value="#{projectReportBean.minParticipantsBoolean}"/>
							</div>
							<p:inputNumber id="minParticipants"
								value="#{projectReportBean.minParticipants}" minValue="0"
								maxValue="1000" decimalPlaces="0" />
						</div>
					</div>
					<div class="col-12 md:col-4">
						<div class="ui-inputgroup">
							<p:outputLabel for="maxParticipants" value="Max participants:" style="width: 150px;"/>
							<div class="ui-inputgroup-addon">
								<p:selectBooleanCheckbox value="#{projectReportBean.maxParticipantsBoolean}"/>
							</div>
							<p:inputNumber id="maxParticipants"
								value="#{projectReportBean.maxParticipants}" minValue="0"
								maxValue="1000" decimalPlaces="0" />
						</div>
					</div>
					<div class="col-12 md:col-4">
						<div class="ui-inputgroup">
							<p:outputLabel for="minDelayedTasks" value="Min delayed tasks:"
								style="width: 150px;" />
							<div class="ui-inputgroup-addon">
								<p:selectBooleanCheckbox
									value="#{projectReportBean.minDelayedTasksBoolean}" />
							</div>
							<p:inputNumber id="minDelayedTasks"
								value="#{projectReportBean.minDelayedTasks}" minValue="0"
								maxValue="1000" decimalPlaces="0" />
						</div>
					</div>
					<div class="col-12 md:col-4">
						<div class="ui-inputgroup">
							<p:outputLabel for="maxDelayedTasks" value="Max delayed tasks:" style="width: 150px;"/>
							<div class="ui-inputgroup-addon">
								<p:selectBooleanCheckbox value="#{projectReportBean.maxDelayedTasksBoolean}"/>
							</div>
							<p:inputNumber id="maxDelayedTasks"
								value="#{projectReportBean.maxDelayedTasks}" minValue="0"
								maxValue="1000" decimalPlaces="0" />
						</div>
					</div>
					<div class="col-12 md:col-4">
						<div class="ui-inputgroup">
							<p:outputLabel for="minTasks" value="Min tasks:"
								style="width: 150px;" />
							<div class="ui-inputgroup-addon">
								<p:selectBooleanCheckbox
									value="#{projectReportBean.minTasksBoolean}" />
							</div>
							<p:inputNumber id="minTasks"
								value="#{projectReportBean.minTasks}" minValue="0"
								maxValue="1000" decimalPlaces="0" />
						</div>
					</div>
					<div class="col-12 md:col-4">
						<div class="ui-inputgroup">
							<p:outputLabel for="maxTasks" value="Max tasks:"
								style="width: 150px;" />
							<div class="ui-inputgroup-addon">
								<p:selectBooleanCheckbox
									value="#{projectReportBean.maxTasksBoolean}" />
							</div>
							<p:inputNumber id="maxTasks"
								value="#{projectReportBean.maxTasks}" minValue="0"
								maxValue="1000" decimalPlaces="0" />
						</div>
					</div>

					<p:commandButton value="Apply"
						actionListener="#{projectReportBean.applyFilters}"
						update="projectReport-accordion" />
				</div>
			</div>
		</h:form>

		<!--         <p:selectManyMenu id="filters" value="#{projectReportBean.selectedFilterNames}" -->
		<!--                           var="fn" showCheckbox="true"> -->
		<!--             <f:selectItems value="#{projectReportBean.filterNames}" var="filterName" itemLabel="#{filterName}" itemValue="#{theme}" /> -->

		<!--             <p:column> -->
		<!--                 <h:graphicImage name="showcase/images/themeswitcher/themeswitcher-#{t.name}.png" alt="#{t.name}" styleClass="ui-theme" /> -->
		<!--             </p:column> -->

		<!--             <p:column> -->
		<!--                 <h:outputText value="#{t.displayName}" /> -->
		<!--             </p:column> -->
		<!--         </p:selectManyMenu> -->

		<p:accordionPanel id="projectReport-accordion"
			value="#{projectReportBean.projectReports}" var="projectReport">
			<p:tab title="#{projectReport.name}">
				<p:dataTable var="projectReport2"
					value="#{projectReportBean.projectReports}">
					<p:column headerText="Number of members">
						<h:outputText value="#{projectReport2.members}" />
					</p:column>

					<p:column headerText="Project manager">
						<h:outputText value="#{projectReport2.username}" />
					</p:column>

					<p:column headerText="Start date">
						<h:outputText value="#{projectReport2.createdOn}">
							<f:convertDateTime pattern="dd/MM/yyyy" />
						</h:outputText>
					</p:column>

					<p:column headerText="End date">
						<h:outputText value="#{projectReport2.closedOn}">
							<f:convertDateTime pattern="dd/MM/yyyy" />
						</h:outputText>
					</p:column>
					<p:column headerText="Time pool">
						<h:outputText value="#{projectReport2.totalHoursReported}" />
					</p:column>
					<p:column headerText="Done ratio">
						<h:outputText value="#{projectReport2.averageDoneRatio}" />
					</p:column>
					<p:column headerText="Number of Tasks">
						<h:outputText value="#{projectReport2.totalIssues}" />
					</p:column>
					<p:column headerText="Number delayed tasks">
						<h:outputText value="#{projectReport2.delayedIssues}" />
					</p:column>
				</p:dataTable>
			</p:tab>
		</p:accordionPanel>
	</ui:define>
</ui:composition>
</html>
