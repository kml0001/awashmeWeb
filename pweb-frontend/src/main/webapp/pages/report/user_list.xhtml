<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:h="http://java.sun.com/jsf/html"
      xmlns:f="http://java.sun.com/jsf/core"
      xmlns:p="http://primefaces.org/ui"
      xmlns:ui="http://java.sun.com/jsf/facelets">

<ui:composition template="/pages/template/layout.xhtml">
    <ui:define name="content">
        <h:form>
            <div class="card">
                <h5>Filters:</h5>
                <div class="grid ui-fluid">
                    <div class="col-12 md:col-4">
                        <div class="ui-inputgroup">
                            <p:outputLabel for="name" value="Name:" style="width: 150px;"/>
                            <div class="ui-inputgroup-addon">
                                <p:selectBooleanCheckbox value="#{userReportBean.nameBoolean}"/>
                            </div>
                            <span class="ui-input-icon-left">
								<i class="pi pi-search"/>
								<p:inputText value="#{userReportBean.name}" placeholder="Filter by name"/>
							</span>
                        </div>
                    </div>
                    <div class="col-12 md:col-4">
                        <div class="ui-inputgroup">
                            <p:outputLabel for="minParticipants" value="Min number of projects:" style="width: 150px;"/>
                            <div class="ui-inputgroup-addon">
                                <p:selectBooleanCheckbox value="#{userReportBean.minParticipantsBoolean}"/>
                            </div>
                            <p:inputNumber id="minParticipants"
                                           value="#{userReportBean.minParticipants}" minValue="0"
                                           maxValue="1000" decimalPlaces="0"/>
                        </div>
                    </div>
                    <div class="col-12 md:col-4">
                        <div class="ui-inputgroup">
                            <p:outputLabel for="maxParticipants" value="Max number of projects:" style="width: 150px;"/>
                            <div class="ui-inputgroup-addon">
                                <p:selectBooleanCheckbox value="#{userReportBean.maxParticipantsBoolean}"/>
                            </div>
                            <p:inputNumber id="maxParticipants"
                                           value="#{userReportBean.maxParticipants}" minValue="0"
                                           maxValue="1000" decimalPlaces="0"/>
                        </div>
                    </div>
                    <div class="col-12 md:col-4">
                        <div class="ui-inputgroup">
                            <p:outputLabel for="minDelayedTasks" value="Min delayed tasks:"
                                           style="width: 150px;"/>
                            <div class="ui-inputgroup-addon">
                                <p:selectBooleanCheckbox
                                        value="#{userReportBean.minDelayedTasksBoolean}"/>
                            </div>
                            <p:inputNumber id="minDelayedTasks"
                                           value="#{userReportBean.minDelayedTasks}" minValue="0"
                                           maxValue="1000" decimalPlaces="0"/>
                        </div>
                    </div>
                    <div class="col-12 md:col-4">
                        <div class="ui-inputgroup">
                            <p:outputLabel for="maxDelayedTasks" value="Max delayed tasks:" style="width: 150px;"/>
                            <div class="ui-inputgroup-addon">
                                <p:selectBooleanCheckbox value="#{userReportBean.maxDelayedTasksBoolean}"/>
                            </div>
                            <p:inputNumber id="maxDelayedTasks"
                                           value="#{userReportBean.maxDelayedTasks}" minValue="0"
                                           maxValue="1000" decimalPlaces="0"/>
                        </div>
                    </div>
					<div class="col-12 md:col-4">
						<div class="ui-inputgroup">
							<p:outputLabel for="minTasks" value="Min reported hours:"
										   style="width: 150px;" />
							<div class="ui-inputgroup-addon">
								<p:selectBooleanCheckbox
										value="#{projectReportBean.minTasksBoolean}" />
							</div>
							<p:inputNumber id="minTasks"
										   value="#{projectReportBean.minTasks}" minValue="0"
										   maxValue="1000" decimalPlaces="0" />
						</div>
					</div>
					<div class="col-12 md:col-4">
						<div class="ui-inputgroup">
							<p:outputLabel for="maxTasks" value="Max reported hours:"
										   style="width: 150px;" />
							<div class="ui-inputgroup-addon">
								<p:selectBooleanCheckbox
										value="#{projectReportBean.maxTasksBoolean}" />
							</div>
							<p:inputNumber id="maxTasks"
										   value="#{projectReportBean.maxTasks}" minValue="0"
										   maxValue="1000" decimalPlaces="0" />
						</div>
					</div>

                    <p:commandButton value="Apply"
                                     actionListener="#{userReportBean.applyFilters}"
                                     update="userReport-accordion"/>
                </div>
            </div>
        </h:form>

        <!--         <p:selectManyMenu id="filters" value="#{userReportBean.selectedFilterNames}" -->
        <!--                           var="fn" showCheckbox="true"> -->
        <!--             <f:selectItems value="#{userReportBean.filterNames}" var="filterName" itemLabel="#{filterName}" itemValue="#{theme}" /> -->

        <!--             <p:column> -->
        <!--                 <h:graphicImage name="showcase/images/themeswitcher/themeswitcher-#{t.name}.png" alt="#{t.name}" styleClass="ui-theme" /> -->
        <!--             </p:column> -->

        <!--             <p:column> -->
        <!--                 <h:outputText value="#{t.displayName}" /> -->
        <!--             </p:column> -->
        <!--         </p:selectManyMenu> -->
        <div class="card">
            <p:dataTable id="userReport-accordion" var="userReport2"
                         value="#{userReportBean.userReports}">
                <p:column headerText="Username">
                    <h:outputText value="#{userReport2.username}"/>
                </p:column>

                <p:column headerText="Full name">
                    <h:outputText value="#{userReport2.lastname}"/>
                </p:column>

                <p:column headerText="Email">
                    <h:outputText value="#{userReport2.mail}"/>
                </p:column>
                <p:column headerText="Number of projects">
                    <h:outputText value="#{userReport2.totalProject}"/>
                </p:column>
                <p:column headerText="Total reported hours">
                    <h:outputText value="#{userReport2.totalIssues}"/>
                </p:column>
                <p:column headerText="Number delayed tasks">
                    <h:outputText value="#{userReport2.delayedIssues}"/>
                </p:column>
            </p:dataTable>
        </div>
    </ui:define>
</ui:composition>
</html>
